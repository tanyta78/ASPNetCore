@using EventWebApp.Data.Models
@using Microsoft.AspNetCore.Identity

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<div class="collapse navbar-collapse d-flex justify-content-between" id="navbarNav">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a asp-area="" asp-controller="Home" asp-action="Index" class="nav-link nav-link-dark">Home</a>
        </li>
        @if (SignInManager.IsSignedIn(User))
        {
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle nav-link-dark" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="nav-link-dark">Events</span>
                  
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" asp-controller="Events" asp-action="All">All Events</a>
                    @if (this.User.IsInRole("Admin"))
                    {
                        <a class="dropdown-item" asp-controller="Events" asp-action="Create">Create Event</a>
                    }
                </div>
            </li>
        }
    </ul>
</div>
<div class="collapse navbar-collapse navbar-left justify-content-end " id="navbarNav">
    @if (!this.User.Identity.IsAuthenticated)
    {
        <ul class="navbar-nav ">
            <li class="nav-item">
                <a class="nav-link nav-link-dark " asp-controller="Account" asp-action="Login">Login</a>
            </li>
            <li class="nav-item">
                <a class="nav-link nav-link-dark " asp-controller="Account" asp-action="Register">Register</a>
            </li>
        </ul>
    }
    @if (this.User.Identity.IsAuthenticated)
    {
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link nav-link-dark" asp-controller="Home" asp-action="Index">Hello @User.Identity.Name!</a>
            </li>
            <li class="nav-item">
                <a class="nav-link nav-link-dark" asp-controller="Account" asp-action="Logout">Logout</a>
            </li>
        </ul>
    }
</div>